(this["webpackJsonpfinanservs-afiliado"]=this["webpackJsonpfinanservs-afiliado"]||[]).push([[0],{146:function(e,t,a){},147:function(e,t,a){},182:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),i=a.n(c),s=(a(146),a(147),a(230)),o=a(124),l=a(241),j=a(32),d=a(14),b=a(252),x=a(253),u=a.p+"static/media/logo-horizontal-white.163462bd.png",m=a(25),p=a.n(m),h=a(33),O=a(13),f=a(245),g=a(239),v=a(244),w=a(247),y=a(240),S=a(69),C=a.p+"static/media/main-2.30b4fff1.jpeg",k=a(34),R=a.n(k),I=a(1),N=function(){var e=Object(d.f)(),t=Object(n.useState)([]),a=Object(O.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),s=Object(O.a)(i,2),o=s[0],l=s[1],b=Object(d.e)().search;window.localStorage.getItem("jwt")?e("/afiliados"):(window.localStorage.getItem("Sponsor")||null)&&e("/inicio");var x=new URLSearchParams(b).get("Ref"),u=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,R.a.get("/api/sponsor/"+o);case 4:return t=e.sent,e.next=7,t.data;case 7:a=e.sent,c(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=window.localStorage.getItem("Sponsor");e?l(e):(l(x||""),x&&window.localStorage.setItem("Sponsor",x))}),[]),Object(n.useEffect)((function(){u()}),[o]),Object(I.jsxs)(v.a,{sx:{pt:12},children:[Object(I.jsx)(g.a,{container:!0,spacing:4,justifyContent:"center",children:Object(I.jsx)(g.a,{item:!0,xs:12,sm:6,md:4,children:Object(I.jsxs)(f.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(I.jsx)(w.a,{component:"img",height:"300",image:C,alt:"Finanservs"}),Object(I.jsx)(j.b,{to:"/registro",children:Object(I.jsx)(y.a,{variant:"contained",children:"Resgistro"})})]})})}),Object(I.jsx)(S.a,{sx:{pt:2},textAlign:"center",children:r.length>0&&"Referido por: ".concat(r[0].nombre," ").concat(r[0].apellidos)})]})},F=a(242),D=a(235),M=a(249),W=a(237),E=a(250),T=a(248),z=a(114),L=a.n(z),P=function(e){var t=e.type,a=e.message,n=e.setMsg;return setTimeout((function(){n(null)}),2e3),Object(I.jsx)("div",{className:"alert alert-"+t+" mt-3 "+(a?"d-block":"d-none"),role:"alert",children:a})},q=Object(o.a)();function A(){var e=Object(d.f)(),t=Object(n.useState)(""),a=Object(O.a)(t,2),r=a[0],c=a[1],i=function(){var t=Object(h.a)(p.a.mark((function t(a){var n,r,i,s,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=new FormData(a.currentTarget),r={email:n.get("email"),password:n.get("password")},t.prev=3,t.next=6,R.a.post("/api/login/",r);case 6:return i=t.sent,t.next=9,i.data;case 9:(s=t.sent).token?(o={token:s.token,idUser:s.idUser,email:s.email},window.localStorage.setItem("jwt",JSON.stringify(o)),e("/afiliados")):c(s.message),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),c("Error: Query no permitido. Favor ver Log del Servidor.");case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)(l.a,{theme:q,children:Object(I.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(s.a,{}),Object(I.jsxs)(T.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(F.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(I.jsx)(L.a,{})}),Object(I.jsx)(S.a,{component:"h1",variant:"h5",children:"Inicio"}),Object(I.jsxs)(T.a,{component:"form",onSubmit:i,noValidate:!0,sx:{mt:1},children:[Object(I.jsx)(D.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0}),Object(I.jsx)(D.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password"}),Object(I.jsx)(M.a,{control:Object(I.jsx)(W.a,{value:"remember",color:"primary"}),label:"Recuerdame"}),Object(I.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Inicio"}),Object(I.jsxs)(g.a,{container:!0,children:[Object(I.jsx)(g.a,{item:!0,xs:!0,children:Object(I.jsx)(E.a,{href:"/afiliados",variant:"body2",children:"Olvido su Contrase\xf1a?"})}),Object(I.jsx)(g.a,{item:!0,children:Object(I.jsx)(E.a,{href:"/registro",variant:"body2",children:Object(I.jsx)(S.a,{children:"Resgistrarse"})})})]})]})]}),r?Object(I.jsx)(P,{type:"warning",message:r,setMsg:c}):""]})})}var U=Object(o.a)();function B(){var e=Object(d.f)(),t=function(){var t=Object(h.a)(p.a.mark((function t(a){var n,r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=new FormData(a.currentTarget),r={email:n.get("email"),nombre:n.get("firstName"),apellidos:n.get("lastName"),celular:n.get("phoneNumber"),password:n.get("password"),id_ref:n.get("")},t.prev=3,(c=window.localStorage.getItem("Sponsor"))&&(r.id_ref=c),console.log(r),t.next=9,R.a.post("/api/user/",r);case 9:e("/inicio"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.log("Error: Query no permitido.  Favor ver Log del Servidor.");case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)(l.a,{theme:U,children:Object(I.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(s.a,{}),Object(I.jsxs)(T.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(I.jsx)(S.a,{component:"h1",variant:"h5",children:"Nuevo"}),Object(I.jsxs)(T.a,{component:"form",noValidate:!0,onSubmit:t,sx:{mt:3},children:[Object(I.jsxs)(g.a,{container:!0,spacing:2,children:[Object(I.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(D.a,{name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"Nombre",autoFocus:!0,autoComplete:"family-name"})}),Object(I.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(D.a,{name:"lastName",required:!0,fullWidth:!0,id:"lastName",label:"Apellidos",autoComplete:"family-name"})}),Object(I.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(D.a,{required:!0,fullWidth:!0,id:"phoneNumber",label:"Celular",name:"phoneNumber",autoComplete:"phoneNumber"})}),Object(I.jsx)(g.a,{item:!0,xs:12,children:Object(I.jsx)(D.a,{required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email"})}),Object(I.jsx)(g.a,{item:!0,xs:12,children:Object(I.jsx)(D.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"Password"})})]}),Object(I.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Resgistro"}),Object(I.jsx)(g.a,{container:!0,justifyContent:"flex-end",children:Object(I.jsx)(g.a,{item:!0,children:Object(I.jsxs)(E.a,{href:"/inicio",children:["Ya tienes una Cuenta?",Object(I.jsx)(S.a,{children:"Iniciar Sesi\xf3n"})]})})})]})]})]})})}var J=a(27),Q=a(251),V=a(232),_=a(233),G=a(234),Y=a(117),H=a.n(Y),K=a(115),X=a(116),Z=a(176),$="0px 4px 10px rgba(0, 0, 0, 0.25)",ee=Object(G.a)({card:{textShadow:$},textShadow:{textShadow:$,color:"#e07510",textAlign:"center"}}),te={width:"85%",fontSize:"1.3em",height:"30px",color:"blue",border:"none",marginRight:"10px"},ae=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(O.a)(c,2),s=i[0],o=i[1],l=Object(n.useState)({value:"",copied:!1}),j=Object(O.a)(l,2),d=j[0],b=j[1],x=ee(),u=function(){var e=Object(h.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/api/afiliados/"+t);case 2:return a=e.sent,e.next=5,a.data;case 5:n=e.sent,r(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=window.localStorage.getItem("jwt");if(e){var t=JSON.parse(e);o(t.idUser),u(t.idUser),b(Object(J.a)(Object(J.a)({},d),{},{value:"https://network.finanservs.com?Ref=".concat(t.idUser)}))}else b(Object(J.a)(Object(J.a)({},d),{},{value:"https://network.finanservs.com?Ref=".concat("1")}))}),[]);var m=function(){b(Object(J.a)(Object(J.a)({},d),{},{copied:!0})),Object(X.setTimeout)((function(){b(Object(J.a)(Object(J.a)({},d),{},{copied:!1}))}),300)};return Object(I.jsxs)(v.a,{sx:{pt:8},children:[Object(I.jsx)(S.a,{className:x.textShadow,variant:"h5",children:"Link de Referidos:"}),Object(I.jsx)(T.a,{component:"form",noValidate:!0,sx:{mt:1},children:Object(I.jsx)(g.a,{container:!0,direction:"column",alignItems:"center",children:Object(I.jsxs)("div",{style:{textAlign:"center"},children:[Object(I.jsx)("input",{style:te,value:"https://network.finanservs.com"}),Object(I.jsx)(K.CopyToClipboard,{text:d.value,onCopy:function(){return m()},children:Object(I.jsx)(H.a,{style:{color:"green",width:"20px"}})}),d.copied?Object(I.jsx)("span",{style:{color:"red",fontSize:"9px"},children:"Copiado..."}):null]})})}),Object(I.jsx)(V.a,{sx:{pb:2}}),Object(I.jsx)(g.a,{container:!0,direction:"column",alignItems:"center",children:Object(I.jsx)(E.a,{href:"https://finanservs.com?idRef=".concat(s),underline:"hover",target:"_blank",rel:"noreferrer",variant:"button",color:"primary",children:"Solicite su Pr\xe9stamo ya mismo!"})}),Object(I.jsx)(V.a,{sx:{pb:0}}),Object(I.jsx)(S.a,{className:x.textShadow,gutterBottom:!0,sx:{pt:2},variant:"h4",component:"h2",children:a.length?"Mis Referidos":"Sin Referidos"}),a.length>0?Object(I.jsx)(g.a,{container:!0,spacing:2,children:a.map((function(e){return Object(I.jsx)(g.a,{item:!0,xs:12,sm:6,md:4,children:Object(I.jsx)(f.a,{className:x.card,sx:{height:"100%",display:"flex",flexDirection:"column"},children:Object(I.jsxs)(Q.a,{sx:{flexGrow:1},children:[Object(I.jsx)(S.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.nombre+" "+e.apellidos}),Object(I.jsxs)(S.a,{children:[Object(I.jsx)(_.a,{primary:"Email: ".concat(e.email)}),Object(I.jsx)(_.a,{primary:"Celular: ".concat(e.celular)}),Object(I.jsx)(_.a,{primary:"Creado: ".concat(e.dateCreated)})]})]})})},e.id)}))}):Object(I.jsx)(g.a,{container:!0,direction:"column",alignItems:"center",children:Object(I.jsx)(g.a,{item:!0,xs:12,sm:6,md:4,children:Object(I.jsx)(f.a,{sx:{height:"100%",flexDirection:"column"},children:Object(I.jsxs)(Q.a,{sx:{flexGrow:1},children:[Object(I.jsx)(S.a,{style:{textAlign:"center"},children:"Comparta su c\xf3digo QR."}),Object(I.jsx)(S.a,{sx:{pt:4},textAlign:"center",children:Object(I.jsx)(Z,{value:"https://network.finanservs.com?Ref=".concat(s||"1")})})]})})})})]})},ne=a(4),re=a(183),ce=a(123),ie=a(243),se=a(121),oe=a.n(se),le=a(120),je=a.n(le),de=a(122),be=a.n(de),xe=a(119),ue=a.n(xe),me=Object(ne.a)((function(e){return Object(I.jsx)(ce.a,Object(J.a)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(re.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function pe(){var e=n.useState(null),t=Object(O.a)(e,2),a=t[0],r=t[1],c=Boolean(a),i=function(){r(null)};return Object(I.jsxs)("div",{children:[Object(I.jsx)(y.a,{id:"demo-customized-button","aria-controls":"demo-customized-menu","aria-haspopup":"true","aria-expanded":c?"true":void 0,variant:"contained",disableElevation:!0,onClick:function(e){r(e.currentTarget)},endIcon:Object(I.jsx)(ue.a,{}),children:"Options"}),Object(I.jsxs)(me,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:a,open:c,onClose:i,children:[Object(I.jsx)(ie.a,{onClick:i,disableRipple:!0,children:Object(I.jsx)(j.b,{to:"/inicio",children:Object(I.jsx)(y.a,{variant:"contained",children:"Inicio"})})}),Object(I.jsxs)(ie.a,{onClick:i,disableRipple:!0,children:[Object(I.jsx)(je.a,{}),"Duplicate"]}),Object(I.jsx)(V.a,{sx:{my:.5}}),Object(I.jsxs)(ie.a,{onClick:i,disableRipple:!0,children:[Object(I.jsx)(oe.a,{}),"Archive"]}),Object(I.jsxs)(ie.a,{onClick:i,disableRipple:!0,children:[Object(I.jsx)(be.a,{}),"More"]})]})]})}var he=function(){return Object(I.jsx)(j.a,{children:Object(I.jsxs)("div",{className:"main-layout",children:[Object(I.jsx)(b.a,{position:"fixed",children:Object(I.jsxs)(x.a,{children:[Object(I.jsx)("img",{src:u,alt:"React Logo",width:"200"}),Object(I.jsx)(pe,{})]})}),Object(I.jsxs)(d.c,{children:[Object(I.jsx)(d.a,{path:"/",element:Object(I.jsx)(N,{})}),Object(I.jsx)(d.a,{path:"/registro",element:Object(I.jsx)(B,{})}),Object(I.jsx)(d.a,{path:"/afiliados",element:Object(I.jsx)(ae,{})}),Object(I.jsx)(d.a,{path:"/inicio",element:Object(I.jsx)(A,{})}),Object(I.jsx)(d.a,{path:"/logout",element:Object(I.jsx)(A,{})})]})]})})},Oe=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(V.a,{sx:{py:4}}),Object(I.jsxs)(T.a,{sx:{bgcolor:"background.paper",p:2},component:"footer",children:[Object(I.jsx)(S.a,{variant:"subtitle1",align:"center",color:"text.primary",component:"p",children:"Soluciones financieras a su medida!"}),Object(I.jsxs)(S.a,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",(new Date).getFullYear(),"."]})]})]})},fe=Object(o.a)();var ge=function(){return Object(I.jsxs)(l.a,{theme:fe,children:[Object(I.jsx)(s.a,{}),Object(I.jsx)(he,{}),Object(I.jsx)(Oe,{})]})},ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,254)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(ge,{})}),document.getElementById("root")),ve()}},[[182,1,2]]]);
//# sourceMappingURL=main.e408c4c9.chunk.js.map